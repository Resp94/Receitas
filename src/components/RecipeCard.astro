---
import type { CollectionEntry } from 'astro:content';

interface Props {
  recipe: CollectionEntry<'receitas'>;
}

const { recipe } = Astro.props;
const { titulo, imagem, tempo_preparo, porcoes, categoria, tags } = recipe.data;
---

<a href={`/receitas/${recipe.id}`} class="recipe-card" data-tags={tags ? tags.join(',') : ''}>
  <div class="favorite-btn">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
  </div>
  <div class="recipe-card-img-wrapper">
    <img src={imagem} alt={titulo} />
  </div>
  <div class="recipe-card-content">
    <div style="margin-bottom: 0.5rem; display: flex; gap: 0.5rem; flex-wrap: wrap; align-items: center;">
      <span class={`badge badge-${categoria.toLowerCase().replace(' ', '-')}`}>{categoria}</span>
    </div>
    <h3 class="recipe-card-title">{titulo}</h3>
    <div class="recipe-card-meta">
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>
        {tempo_preparo}
      </span>
      <span>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
        {porcoes}
      </span>
    </div>
  </div>
</a>
